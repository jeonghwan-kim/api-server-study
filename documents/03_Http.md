HTTP에 대해
=========

개발에 앞서 HTTP에 대해서 언급해야겠다. 노드를 이용해서 API 서버를 만드는 것이 우리의 목표이다.네트웍 통신 규약 중 HTTP를 이용해서 API 서버를 만들것이다. 때문에 HTTP가 어떤 것인지 이해해야만 제대로된 API 서버를 만들 수 있다. 내가 물에 뜰 수 있다고 해서 수영을 잘 할 수 있는게 아니라 수영 자세에 대해 정확히 배워야 잘 할 수 있는 것과 비슷한 개념이다.

HTTP를 풀어서  하이퍼텍스트 트랜스퍼 프로토콜(HyperText Transfer Protocol)이라 한다. 하이퍼텍스트란 하이퍼 링크로 이뤄진 문자들인데 일종의 문서라고 보면된다. 하이퍼링크는 웹페이지의 링크를 의미한다. 따라서 하이퍼텍스트는 웹페이지를 전송하기 위한 일종의 규약을 의미하는 것이다. 우리는 웹에서 사용한 이 프로토콜인 HTTP를 이용한 API 서버를 만들게되는 셈이다.

HTTP의 내용은 크게 요청(Request)과 응답(Response)으로 구분할 수 있는데 먼저 요청부분부터 살펴보자.


## 요청 (Request)

웹브라우져가 특정 페이지에 접근하기 위해서는 요청(Request)을 해야한다. 예를 들어 구글에서 “javascript “란 키워드로 검색하면 주소창에 이러한 요청이 생겼을 것이다.

```
http://www.google.co.kr/search?q=javascript
```

`http`는 프로토콜 명이다. www.google.co.kr 은 요청이 보내질 서버의 도메인이다. 실제 이 도메인은 네임서버(DNS)를 거쳐 ip로 변경되어 네트웍 라우터에 의해 안내되어 실제 서버로 전송될 수 있다.

`/search`는 경로(path)라고 한다. 호스트명으로 서버를 찾았으면 세부적인 자원을 요청하기 위해 경로를 사용할 수 있다.

`q=javascript`는 쿼리스트링(query string)이라고 한다. 자원에 대한 추가적인 요청 정보를키, 밸류 형태로 만들어 전송한다.

위 요청에서 숨겨진 정보가 하나 더있는데 브라우져에서는 개발자 도구를 열어서 확인할 수 있다. 크롬을 기준으로 확인해보자.

<그림>
크롬 개발자 도구

GET 메소드를 이용했다. 메소드는 이외에도 POST, PUT, DELETE 등이 있다. 요청의 의미가 데이터를 조회할때는 GET을 사용한다. 브라우져의 경우 웹페이지 조회를 요청한 것이므로 GET 메소드를 사용한다. POST는 서버에 데이터를 추가해 달라는 요청시 사용한다. 이 두가지는 HTML 폼을 만들고 제출할때 메소드로 주로 사용했던 것이다.

이 외에도 PUT 메소드와 DELETE 메소드가 있는데 자원을 수정하거나 서버로 부터 자원을 삭제 요청하는 용도로 사용한다.


## 응답 (Response)


클라이언트의 요청에 대해 서버는 그에 해당하는 적절한 응답을 해야한다. 응답은 헤더와 바디로 나눌 수 있다.

헤더에는 실제 데이터가 아닌 부가적인 정보가 포함되어 있다. 그 중 우리가 사용할 것은 상태코드(statusCode)다. 크게보면 세 가지로 분류할 수 있다. 2xx은 응답에 성공할 경우이고 4xx은 요청이 잘못되었을 경우다. 그리고 5xx은 서버에서 장애가 발생한 상황이다.

바디는 JSON 형식으로 사용한다.

이러한 기준으로 HTTP를 이용해서 API를 설계할때 이를 RESTful API라고 하며 우리는 최대한 RESTful한 API 구현을 목표로 한다.

